<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Home</title>

<style>
body {
    background:#0e0e0e;
    color:white;
    font-family:Arial, sans-serif;
    margin:0;
}

header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:16px 20px;
}

h1 {
    margin:0;
}

#search {
    background:#1b1b1b;
    border:none;
    color:white;
    padding:8px 12px;
    border-radius:8px;
    outline:none;
    width:220px;
}

.grid {
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(160px,1fr));
    gap:20px;
    padding:20px;
}

.game {
    background:#1b1b1b;
    border-radius:12px;
    padding:12px;
    text-align:center;
    cursor:pointer;
}

.game:hover {
    background:#262626;
}

.game img {
    width:100%;
    height:120px;
    object-fit:cover;
    border-radius:8px;
}
</style>
</head>

<body>

<header>
    <h1>Greatest Greatest Unblocked - Home</h1>
    <input id="search" type="text" placeholder="Search games...">
</header>

<div class="grid" id="gameGrid">
    <div class="game" onclick="launch('library/SubmitGames.html')">
        <img src="/icons/form.png">
        [[REQUEST A GAME]]
    </div>
    <div class="game" onclick="launch('library/Eag188.html')">
        <img src="/icons/1.8.8.png">
        Eaglercraft 1.8.8
    </div>
    <div class="game" onclick="launch('library/Eag1122.html')">
        <img src="icons/1.12.png">
        Eaglercraft 1.12.2
    </div>
    <div class="game" onclick="launch('library/brainrotFixed.html')">
        <img src="icons/brainrot.jpg">
        Steal Brainrot Duel
    </div>
    <div class="game" onclick="launch('library/BasketBro.html')">
        <img src="/icons/basketbro.png">
        Basket Bros
    </div>
    <div class="game" onclick="launch('library/snowrider.html')">
        <img src="/icons/snowrider.PNG">
        Snow Rider 3D
    </div>
    <div class="game" onclick="launch('library/retroB.html')">
        <img src="/icons/retroB.png">
        Retro Bowl
    </div>
    <div class="game" onclick="launch('library/Soundboard.html')">
        <img src="/icons/soundboard.png">
        Soundboard [FUNNY]
    </div>
    <div class="game" onclick="launch('library/bbplus.html')">
        <img src="/icons/bbplus.png">
        Baldi's Basics +
    </div>
    <div class="game" onclick="launch('library/deltar.html')">
        <img src="/icons/deltar.png">
        DELTARUNE
    </div>
    <div class="game" onclick="launch('library/maddrive.html')">
        <img src="/icons/drivemad.jpg">
        Drive Mad
    </div>
     <div class="game" onclick="launch('library/vikingclash.html')">
        <img src="/icons/vikings.jpg">
        Clash of Vikings
    </div>
     <div class="game" onclick="launch('library/mineridletycoon.html')">
        <img src="/icons/idleminer.png">
       Idle Miner Tycoon
    </div>
     <div class="game" onclick="launch('library/retrobc.html')">
        <img src="/icons/retrobc.png">
       Retro Bowl College
    </div>
    <div class="game" onclick="launch('library/emujs.html')">
        <img src="/icons/emujs.png">
       EmulatorJS
    </div>
    <div class="game" onclick="launch('library/supermon.html')">
        <img src="/icons/supermon.png">
       Super Mariomon
    </div>
    <div class="game" onclick="launch('library/fnaf.html')">
        <img src="/icons/fred1.jpg">
       FNAF
    </div>
    <div class="game" onclick="launch('library/breakoutidle.html')">
        <img src="/icons/idlebreak.png">
       Idle Breakout
    </div>
    <div class="game" onclick="launch('library/bitterlife.html')">
        <img src="/icons/bitterlife.jpg">
       BitLife
    </div>
    <div class="game" onclick="launch('library/geometry.html')">
        <img src="/icons/gd.png">
       Geometry Dash
    </div>
    <div class="game" onclick="launch('library/fnaf2.html')">
        <img src="/icons/fnaf2.png">
       FNAF 2
    </div>
    <div class="game" onclick="launch('library/fnaw.html')">
        <img src="/icons/fnaw.jpg">
       Five Nights at Wiston's
    </div>
    <div class="game" onclick="launch('library/amongsus.html')">
        <img src="/icons/amongsus.jpg">
       Among Us
    </div>
    <div class="game" onclick="launch('library/brobaseball.html')">
        <img src="/icons/brobaseball.jpg">
       Baseball Bros
    </div>
    <div class="game" onclick="launch('library/escaperoad.html')">
        <img src="/icons/escaperoad.jpg">
       Escape Road
    </div>
    <div class="game" onclick="launch('library/bankrob2.html')">
        <img src="/icons/bankrob2.jpg">
       Bank Robbery 2
    </div>
    <div class="game" onclick="launch('library/wilddriven.html')">
        <img src="/icons/wilddriven.png">
       Driven Wild
    </div>
    <div class="game" onclick="launch('library/supermb.html')">
        <img src="/icons/supermb.png">
       Super Mario Bros.
    </div>
    <div class="game" onclick="launch('library/subwaysurf.html')">
        <img src="/icons/subwaysurf.png">
       Subway Surfers
    </div>
    <div class="game" onclick="launch('library/idledice.html')">
        <img src="/icons/idledice.png">
       Idle Dice
    </div>
    <div class="game" onclick="launch('library/granny.html')">
        <img src="/icons/granny.png">
       Granny
    </div>
    <div class="game" onclick="launch('library/tinyfish.html')">
        <img src="/icons/tinyfish.png">
       Tiny Fishing
    </div>
</div>

<script>
/* ---- ALPHABETICAL SORT ---- */
const grid = document.getElementById("gameGrid");
const games = Array.from(grid.children);

games
    .sort((a, b) =>
        a.textContent.trim().localeCompare(b.textContent.trim(), undefined, { sensitivity: "base" })
    )
    .forEach(game => grid.appendChild(game));

/* ---- SEARCH FILTER ---- */
document.getElementById("search").addEventListener("input", e => {
    const query = e.target.value.toLowerCase();

    games.forEach(game => {
        const name = game.textContent.toLowerCase();
        game.style.display = name.includes(query) ? "" : "none";
    });
});

/* ---- GAME LAUNCHER ---- */
async function launch(path) {
    const win = window.open("about:blank");
    if (!win) {
        alert("Popup blocked");
        return;
    }

    try {
        const res = await fetch(path);
        const html = await res.text();

        win.document.open();
        win.document.write(html);
        win.document.close();
    } catch {
        win.document.write("<h1>Failed to load game</h1>");
    }
}
</script>

</body>
</html>
